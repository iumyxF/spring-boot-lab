# 短网址

## 原理

当我们输入短链时，其实访问的是短链服务器的地址。
短链服务器获取到对应的长链地址之后，返回一个 302 的 HTTP 响应，在响应中包含了长链接地址。
浏览器收到响应后，转而去请求长链接地址。

## 实现步骤

1. 将长链转换成短链,并把长链和短链关系映射保存在服务器中
2. 访问短链时,找到长链,返回302数据

## 问题总结

1. 为什么要用短网址?
    - 源网址长且没有意义
    - 减少字符减少了短信发送费用
    - 一些平台有长度限制
    - 转换成二维码更容易识别
2. 为什么短链服务器获取到对应的长链地址之后，返回一个 302 的 HTTP 响应?
    - 301 代表永久重定向。它表示第一次拿到长链接之后，下次浏览器如果再去请求短链的话，不会再向短链服务器请求了，而是直接从浏览器的缓存中获取。
    - 302 代表临时重定向。它表示每次请求短链都会去请求短链服务器，不会从浏览器缓存中获取。
    - 如果我们希望统计短链接的点击次数信息，从而来分析活动的效果的话。那么我们就需要使用 302
      重定向码，这样才能获取到每次的请求数据。一般情况下，我们都是需要获取到请求的数据的，因此对于短链服务都是用 302 临时重定向。